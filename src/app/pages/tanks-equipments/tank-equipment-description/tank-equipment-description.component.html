<div class='relative flex flex-wrap justify-center gap-normal desktop:justify-around'>
    <div
        class='flex flex-wrap items-center justify-center gap-normal tablet:absolute tablet:-top-3 tablet:right-2 tablet:flex-col desktop:flex-row'
    >
        <glassait-button
            (click)='openLink(link.url)'
            *ngFor='let link of data.links'
            [size]='ButtonSizeEnum.XSMALL'
            [theme]='
                mode === ModeEnum.DARK ? ButtonThemeEnum.DARK_BLUE : ButtonThemeEnum.LIGHT_BLUE
            '
            rightIcon='redirect'
            text='{{ link.name }}'
        ></glassait-button>
    </div>

    <div class='flex min-w-[288px] flex-col items-center gap-normal'>
        <div class='flex gap-demi tablet:gap-normal'>
            <glassait-icon
                *ngFor='let crew of data?.crew'
                [color]='mode === ModeEnum.DARK ? IconColorEnum.DARK : IconColorEnum.LIGHT'
                class='rounded-normal border-1 border-secondary-700 dark:border-primary-700'
                icon='{{ crew | image }}'
                size='{{ isMobile ? 48 : 70 }}'
                title='{{ crew }}'
            ></glassait-icon>
        </div>

        <div *ngFor='let skills of data?.skills' class='flex gap-demi tablet:gap-normal'>
            <picture *ngFor='let skill of skills'>
                <source srcset='{{ skill | image : "skills" : "avif" }}' type='image/avif' />
                <img
                    alt='{{ skill }}'
                    class='rounded-normal border-1 border-secondary-700 dark:border-primary-700'
                    height='{{ isMobile ? 50 : 70 }}'
                    ngSrc="{{ skill | image: 'skills' : 'png' }}"
                    title='{{ skill }}'
                    width='{{ isMobile ? 50 : 70 }}'
                />
            </picture>
        </div>
    </div>

    <div
        class='flex min-w-[288px] max-w-[1000px] flex-wrap items-center justify-center gap-normal pt-normal'
    >
        <div class='flex flex-wrap items-center justify-center gap-normal'>
            <div>
                <picture>
                    <source srcset='{{ data.name | image : "tanks" : "avif" }}' type='image/avif' />
                    <img
                        alt='Image de {{ data.name }}'
                        height='234'
                        ngSrc="{{ data.name | image: 'tanks' : 'png' }}"
                        title='{{ data.name }}'
                        width='320'
                    />
                </picture>
            </div>

            <div class='flex items-center justify-center gap-normal tablet:flex-col'>
                <div *ngFor='let shell of data.shells'>
                    <div class='text-normal relative left-[5px] top-[1px] h-0 w-0'>
                        {{ shell.amount }}
                    </div>
                    <picture>
                        <source
                            srcset="{{ shell.name | image: 'shells' : 'avif' : shell.premium }}"
                            type='image/avif'
                        />
                        <img
                            alt='Image de {{ shell.name }}'
                            class='rounded-normal border-1 border-secondary-700 dark:border-primary-700'
                            height='70'
                            ngSrc="{{ shell.name | image: 'shells' : 'png' : shell.premium }}"
                            title='{{ shell.amount }} {{ shell.name }}'
                            width='70'
                        />
                    </picture>
                </div>
            </div>

            <div class='flex flex-col items-center justify-center gap-normal'>
                <div class='flex flex-wrap justify-center gap-normal'>
                    <div class='flex h-[70px] gap-normal'>
                        <div
                            *ngFor='let equipment of data.equipments.first'
                            class='relative w-[70px]'
                        >
                            <picture>
                                <source
                                    srcset='{{ equipment.name | image : "equipments" : "avif" }}'
                                    type='image/avif'
                                />
                                <img
                                    alt='Image de {{ equipment.name }}'
                                    class='absolute inset-0 rounded-normal border-1 border-secondary-700 dark:border-primary-700'
                                    height='70'
                                    ngSrc="{{ equipment.name | image: 'equipments' : 'png' }}"
                                    title='{{ equipment.name }}'
                                    width='70'
                                />
                            </picture>

                            <picture>
                                <source
                                    srcset="{{ 'modernized_3' | image: 'equipments' : 'avif' }}"
                                    type='image/avif'
                                />
                                <img
                                    *ngIf='equipment.modernized'
                                    alt='Équipement modernizé'
                                    class='absolute inset-0 left-0.5 top-1'
                                    height='20'
                                    ngSrc="{{ 'modernized_3' | image: 'equipments' : 'png' }}"
                                    width='20'
                                />
                            </picture>
                        </div>
                    </div>

                    <div class='flex gap-normal'>
                        <picture *ngFor='let consumable of data.consumables.first'>
                            <source
                                srcset='{{ consumable | image : "consumables" : "avif" }}'
                                type='image/avif'
                            />
                            <img
                                alt='{{ consumable }}'
                                class='rounded-normal border-1 border-secondary-700 dark:border-primary-700'
                                height='70'
                                ngSrc="{{ consumable | image: 'consumables' : 'png' }}"
                                title='{{ consumable }}'
                                width='70'
                            />
                        </picture>
                    </div>
                </div>

                <div
                    class='flex items-center justify-center rounded-normal border-1 border-success-700 bg-success-400'
                >
                    <picture class='-mr-[70px] w-[70px]'>
                        <source
                            srcset='{{ data.directive.image | image : "equipments" : "avif" }}'
                            type='image/avif'
                        />
                        <img
                            alt='{{ data.directive.name }}'
                            class='-mr-[70px]'
                            height='70'
                            ngSrc="{{ data.directive.image | image: 'equipments' : 'png' }}"
                            width='70'
                        />
                    </picture>

                    <picture class='relative w-[70px]'>
                        <source
                            srcset='{{ "directive" | image : "equipments" : "avif" }}'
                            type='image/avif'
                        />
                        <img
                            alt='directive icon'
                            class='w-[70px]'
                            height='54'
                            ngSrc="{{ 'directive' | image: 'equipments' : 'png' }}"
                            title='{{ data.directive.name }}'
                            width='53'
                        />
                    </picture>
                </div>

                <div class='flex flex-wrap justify-center gap-normal'>
                    <div class='flex h-[70px] gap-normal'>
                        <div
                            *ngFor='let equipment of data.equipments.second'
                            class='relative w-[70px]'
                        >
                            <picture>
                                <source
                                    srcset='{{ equipment.name | image : "equipments" : "avif" }}'
                                    type='image/avif'
                                />
                                <img
                                    alt='Image de {{ equipment.name }}'
                                    class='absolute inset-0 rounded-normal border-1 border-secondary-700 dark:border-primary-700'
                                    height='70'
                                    ngSrc="{{ equipment.name | image: 'equipments' : 'png' }}"
                                    title='{{ equipment.name }}'
                                    width='70'
                                />
                            </picture>

                            <picture>
                                <source
                                    srcset="{{ 'modernized_3' | image: 'equipments' : 'avif' }}"
                                    type='image/avif'
                                />
                                <img
                                    *ngIf='equipment.modernized'
                                    alt='Équipement modernizé'
                                    class='absolute inset-0 left-0.5 top-1'
                                    height='20'
                                    ngSrc="{{ 'modernized_3' | image: 'equipments' : 'png' }}"
                                    width='20'
                                />
                            </picture>
                        </div>
                    </div>

                    <div class='flex gap-normal'>
                        <picture *ngFor='let consumable of data.consumables.second'>
                            <source
                                srcset='{{ consumable | image : "consumables" : "avif" }}'
                                type='image/avif'
                            />
                            <img
                                alt='{{ consumable }}'
                                class='rounded-normal border-1 border-secondary-700 dark:border-primary-700'
                                height='70'
                                ngSrc="{{ consumable | image: 'consumables' : 'png' }}"
                                title='{{ consumable }}'
                                width='70'
                            />
                        </picture>
                    </div>
                </div>
            </div>
        </div>

        <div class='flex min-w-[288px] flex-wrap items-center justify-center gap-normal'>
            <div *ngFor='let field of data?.fields' class='-ml-6 flex h-[70px]'>
                <picture class='relative -top-4 left-[50%] z-[1] h-8 w-8'>
                    <source
                        srcset='{{ "roman_number_" + field.level | image : "fields" : "avif" }}'
                        type='image/avif'
                    />
                    <img
                        alt='Level {{ field.level }} of field'
                        height='32'
                        ngSrc="{{ 'roman_number_' + field.level | image: 'fields' : 'png' }}"
                        width='32'
                    />
                </picture>

                <div
                    *ngFor='let part of field.field | keyvalue'
                    class='relative w-[70px]'
                    title='{{ part.value.name }}'
                >
                    <picture>
                        <source srcset="{{ part.value | getFieldUrl: 'avif' }}" type='image/avif' />
                        <img
                            alt='Image de {{ part.value.name }}'
                            class='absolute inset-0'
                            height='70'
                            ngSrc="{{ part.value | getFieldUrl: 'png' }}"
                            width='70'
                        />
                    </picture>

                    <picture>
                        <source
                            srcset='{{ "active" | image : "fields" : "avif" }}'
                            type='image/avif'
                        />
                        <img
                            *ngIf='part.value.active'
                            alt='Field modification active'
                            class='absolute inset-0'
                            height='82'
                            ngSrc="{{ 'active' | image: 'fields' : 'png' }}"
                            width='82'
                        />
                    </picture>
                </div>
            </div>
        </div>
    </div>
</div>
